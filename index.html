<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MKI 福利厚生ナビゲーター</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-top">
                <a href="https://mina-52.github.io/----/" class="back-to-site-btn" target="_blank">
                    ←
                </a>
            </div>
            <h1>🏢 MKI 福利厚生ナビゲーター</h1>
            <p class="subtitle">あなたに合った福利厚生を簡単に見つけましょう</p>
        </header>

        <div class="main-content">
            <!-- タブナビゲーション -->
            <div class="tab-navigation">
                <button class="tab-btn active" data-tab="profile">基本情報から探す</button>
                <button class="tab-btn" data-tab="chat">会話で探す</button>
                <button class="tab-btn" data-tab="document">ドキュメントマップ</button>
                <button class="tab-btn" data-tab="analytics">検索分析</button>
            </div>

            <!-- 基本情報タブ -->
            <div class="tab-content active" id="profile-tab">
                <div class="card">
                    <h2>社員情報を入力してください</h2>
                    <form id="employee-form">
                        <div class="form-group">
                            <label for="name">お名前</label>
                            <input type="text" id="name" name="name" placeholder="山田 太郎" required>
                        </div>

                        <div class="form-group">
                            <label for="address">住所</label>
                            <input type="text" id="address" name="address" placeholder="東京都千代田区" required>
                        </div>

                        <div class="form-group">
                            <label for="age">年齢</label>
                            <input type="number" id="age" name="age" placeholder="30" min="18" max="70" required>
                        </div>

                        <div class="form-group">
                            <label for="years">勤続年数</label>
                            <input type="number" id="years" name="years" placeholder="5" min="0" max="50" required>
                        </div>

                        <div class="form-group">
                            <label>結婚状況</label>
                            <div class="radio-group">
                                <label><input type="radio" name="marital" value="single" checked> 独身</label>
                                <label><input type="radio" name="marital" value="married"> 既婚</label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>お子様</label>
                            <div class="radio-group">
                                <label><input type="radio" name="children" value="no" checked> いない</label>
                                <label><input type="radio" name="children" value="yes"> いる</label>
                            </div>
                        </div>

                        <div class="form-group" id="children-count-group" style="display: none;">
                            <label for="children-count">お子様の人数</label>
                            <input type="number" id="children-count" name="children-count" placeholder="2" min="1" max="10">
                        </div>

                        <button type="submit" class="btn-primary">利用可能な福利厚生を表示</button>
                    </form>
                </div>

                <div class="results-section" id="profile-results" style="display: none;">
                    <h2>あなたが利用できる福利厚生</h2>
                    <div class="employee-info" id="employee-info"></div>
                    <div class="benefits-grid" id="benefits-list"></div>
                </div>
            </div>

            <!-- 会話タブ -->
            <div class="tab-content" id="chat-tab">
                <div class="card chat-container">
                    <h2>チャットで相談</h2>
                    <p class="chat-description">「結婚しました」「子供が生まれました」「引っ越しします」などと入力してください</p>
                    
                    <div class="chat-box" id="chat-box">
                        <div class="chat-message bot">
                            <div class="message-content">
                                こんにちは！MKIの福利厚生についてお手伝いします。<br>
                                何かライフイベントがありましたか？例えば：<br>
                                • 「結婚しました」<br>
                                • 「子供が生まれました」<br>
                                • 「健康診断を受けたい」<br>
                                • 「保険について知りたい」<br>
                                • 「旅行に行きたい」<br>
                                • 「介護が必要」
                            </div>
                        </div>
                    </div>

                    <div class="chat-input-container">
                        <input type="text" id="chat-input" placeholder="メッセージを入力..." />
                        <button id="chat-send" class="btn-send">送信</button>
                    </div>
                </div>
            </div>

            <!-- ドキュメントマップタブ -->
            <div class="tab-content" id="document-tab">
                <div class="card">
                    <h2>📚 福利厚生ドキュメントマップ</h2>
                    <p class="doc-description">全24種類の福利厚生を一覧で確認できます。カテゴリ別フィルターや検索機能で素早く目的の福利厚生を見つけられます。</p>
                    
                    <!-- 検索とフィルター -->
                    <div class="document-controls">
                        <div class="search-container">
                            <input type="text" id="doc-search" placeholder="🔍 福利厚生を検索... (例: 休暇、保険、育児)" />
                        </div>
                        
                        <div class="filter-container">
                            <label>カテゴリフィルター:</label>
                            <select id="category-filter">
                                <option value="all">すべて表示</option>
                                <option value="給与">給与</option>
                                <option value="日常">日常</option>
                                <option value="住宅">住宅</option>
                                <option value="業務">業務</option>
                                <option value="休暇">休暇</option>
                                <option value="将来設計">将来設計</option>
                                <option value="ライフイベント">ライフイベント</option>
                                <option value="保険">保険</option>
                                <option value="健康">健康</option>
                                <option value="育児">育児</option>
                                <option value="レジャー">レジャー</option>
                            </select>
                        </div>

                        <div class="filter-container">
                            <label>申し込み:</label>
                            <select id="application-filter">
                                <option value="all">すべて</option>
                                <option value="required">申し込み必要</option>
                                <option value="not-required">申し込み不要</option>
                            </select>
                        </div>
                    </div>

                    <!-- 統計情報 -->
                    <div class="doc-stats">
                        <div class="doc-stat-item">
                            <span class="stat-number" id="total-benefits">24</span>
                            <span class="stat-label">登録福利厚生</span>
                        </div>
                        <div class="doc-stat-item">
                            <span class="stat-number" id="filtered-benefits">24</span>
                            <span class="stat-label">表示中</span>
                        </div>
                        <div class="doc-stat-item">
                            <span class="stat-number" id="application-required">7</span>
                            <span class="stat-label">申し込み必要</span>
                        </div>
                    </div>

                    <!-- カテゴリ別一覧 -->
                    <div id="document-map" class="document-map"></div>
                </div>
            </div>

            <!-- 検索分析タブ -->
            <div class="tab-content" id="analytics-tab">
                <div class="card">
                    <h2>📊 社員の福利厚生検索分析</h2>
                    <p class="analytics-description">チャット機能で検索された福利厚生のデータを集計・分析します。</p>
                    
                    <div class="analytics-stats">
                        <div class="stat-card">
                            <div class="stat-icon">💬</div>
                            <div class="stat-value" id="total-searches">0</div>
                            <div class="stat-label">総検索回数</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">🔍</div>
                            <div class="stat-value" id="unique-benefits">0</div>
                            <div class="stat-label">検索された福利厚生</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">📅</div>
                            <div class="stat-value" id="last-search">未検索</div>
                            <div class="stat-label">最終検索日時</div>
                        </div>
                    </div>

                    <div class="analytics-section">
                        <h3>🏆 人気の福利厚生ランキング TOP10</h3>
                        <div id="benefits-ranking" class="ranking-list">
                            <p class="no-data">まだデータがありません。チャット機能で検索を行うとここに表示されます。</p>
                        </div>
                    </div>

                    <div class="analytics-section">
                        <h3>🔤 検索キーワード履歴</h3>
                        <div id="keyword-history" class="keyword-list">
                            <p class="no-data">まだデータがありません。</p>
                        </div>
                    </div>

                    <div class="analytics-section">
                        <h3>📈 カテゴリ別検索状況</h3>
                        <div id="category-chart" class="category-chart">
                            <p class="no-data">まだデータがありません。</p>
                        </div>
                    </div>

                    <div class="analytics-actions">
                        <button id="export-data" class="btn-secondary">📥 データをエクスポート</button>
                        <button id="clear-data" class="btn-danger">🗑️ データをクリア</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 申し込みモーダル -->
    <div id="application-modal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeApplicationModal()">&times;</span>
            <h2 id="modal-title">福利厚生の申し込み</h2>
            <form id="application-form">
                <div class="form-group">
                    <label for="selected-benefit">申し込み福利厚生</label>
                    <select id="selected-benefit" required>
                        <option value="">選択してください</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="applicant-name">お名前 <span class="required-mark">*</span></label>
                    <input type="text" id="applicant-name" required>
                </div>
                <div class="form-group">
                    <label for="applicant-dept">所属部署 <span class="required-mark">*</span></label>
                    <input type="text" id="applicant-dept" required>
                </div>
                <div class="form-group">
                    <label for="applicant-email">メールアドレス <span class="required-mark">*</span></label>
                    <input type="email" id="applicant-email" required>
                </div>
                <div class="form-group">
                    <label for="applicant-phone">電話番号 <span class="required-mark">*</span></label>
                    <input type="tel" id="applicant-phone" required>
                </div>
                <div class="form-group">
                    <label for="application-notes">備考・その他</label>
                    <textarea id="application-notes" rows="4" placeholder="ご質問や特記事項があればご記入ください"></textarea>
                </div>
                <div class="modal-actions">
                    <button type="submit" class="btn-primary">申し込む</button>
                    <button type="button" class="btn-cancel" onclick="closeApplicationModal()">キャンセル</button>
                </div>
            </form>
        </div>
    </div>

    <!-- 手続き方法モーダル -->
    <div id="process-modal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeProcessModal()">&times;</span>
            <h2 id="process-title">手続き方法</h2>
            <div id="process-content"></div>
            <div class="modal-actions">
                <button class="btn-primary" onclick="closeProcessModal()">閉じる</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>

